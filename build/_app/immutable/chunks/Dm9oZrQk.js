import{f as o,a as v,c as ae,d as le}from"./D_PUEipK.js";import{ai as $,c as r,r as e,s as p,aj as m,ak as ee,a as t,al as J,f as te}from"./B2Klhsja.js";import{s as k}from"./xFLrANCg.js";import{i as j}from"./CnBhEndL.js";import{e as H,i as T}from"./CHSElxM4.js";import{s as Y}from"./ChhesuOP.js";import{p as A}from"./Z5udpKd3.js";import{s as W}from"./CDGBuXT4.js";import{s as se}from"./CfIhxZer.js";var oe=o('<span class="state-indicator svelte-5ux9oo"> </span>'),de=o('<span class="role-badge svelte-5ux9oo"> </span>'),ce=o('<span class="agent-name svelte-5ux9oo"> </span>'),_e=o('<div><div class="avatar-ring svelte-5ux9oo"><div class="avatar-icon svelte-5ux9oo"> </div> <!></div> <!> <!></div>');function X(Q,d){$(d,!0);let b=A(d,"state",3,"idle"),M=A(d,"size",3,"md"),V=A(d,"showBadge",3,!0),q=A(d,"showName",3,!0);const K={sm:"size-sm",md:"size-md",lg:"size-lg"},D={idle:"",thinking:"...",speaking:"ðŸ’¬",listening:"ðŸ‘‚"},N={negotiator:"ðŸ¤",mediator:"âš–ï¸",voter:"ðŸ—³ï¸",advocate:"ðŸ“¢",bidder:"ðŸ’°",auctioneer:"ðŸ”¨"};var C=_e();let F;var P=r(C),R=r(P),U=r(R,!0);e(R);var h=p(R,2);{var s=n=>{var a=oe(),i=r(a,!0);e(a),m(()=>k(i,D[b()])),v(n,a)};j(h,n=>{b()!=="idle"&&n(s)})}e(P);var c=p(P,2);{var u=n=>{var a=de(),i=r(a,!0);e(a),m(()=>{W(a,"title",d.agent.role),k(i,N[d.agent.role]||"ðŸ¤–")}),v(n,a)};j(c,n=>{V()&&n(u)})}var w=p(c,2);{var I=n=>{var a=ce(),i=r(a,!0);e(a),m(()=>k(i,d.agent.display_name)),v(n,a)};j(w,n=>{q()&&n(I)})}e(C),m(()=>{F=se(C,1,`agent-avatar ${K[M()]??""}`,"svelte-5ux9oo",F,{thinking:b()==="thinking"}),Y(P,`--agent-color: ${d.agent.color??""}`),k(U,d.agent.avatar)}),v(Q,C),ee()}var pe=o('<span class="action-badge svelte-fp8j5p"> </span>'),fe=o('<span class="context-shared svelte-fp8j5p" title="VCP context shared"> </span>'),ge=o('<span class="context-hidden svelte-fp8j5p" title="VCP context (private, influenced output)"> </span>'),ue=o('<div class="context-indicators svelte-fp8j5p"><!> <!></div>'),he=o('<div class="message svelte-fp8j5p"><div class="message-avatar svelte-fp8j5p"><!></div> <div class="message-content svelte-fp8j5p"><div class="message-header svelte-fp8j5p"><span class="sender-name svelte-fp8j5p"> </span> <!> <span class="timestamp svelte-fp8j5p"> </span></div> <div class="message-body svelte-fp8j5p"> </div> <!></div></div>'),xe=o('<div class="empty-state svelte-fp8j5p"><span class="empty-icon svelte-fp8j5p">ðŸ’¬</span> <p>No messages yet. Start the simulation to see agent interactions.</p></div>'),me=o('<div class="agent-chat svelte-fp8j5p"><div class="agent-roster svelte-fp8j5p"></div> <div class="message-list svelte-fp8j5p"><!> <!></div></div>');function Ge(Q,d){$(d,!0);let b=A(d,"messages",19,()=>[]),M=A(d,"agents",19,()=>[]),V=A(d,"currentSpeaker",3,null),q=A(d,"showContextIndicators",3,!0);function K(h){return V()===h?"speaking":V()?"listening":"idle"}function D(h){try{return new Date(h).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}var N=me(),C=r(N);H(C,21,M,T,(h,s)=>{{let c=J(()=>K(t(s).agent_id));X(h,{get agent(){return t(s)},get state(){return t(c)},size:"sm",showName:!0})}}),e(C);var F=p(C,2),P=r(F);H(P,17,b,h=>h.id,(h,s)=>{var c=he(),u=r(c),w=r(u);X(w,{get agent(){return t(s).sender},state:"idle",size:"sm",showBadge:!1,showName:!1}),e(u);var I=p(u,2),n=r(I),a=r(n),i=r(a,!0);e(a);var l=p(a,2);{var f=_=>{var x=pe(),B=r(x,!0);e(x),m(()=>k(B,t(s).action)),v(_,x)};j(l,_=>{t(s).action&&_(f)})}var g=p(l,2),y=r(g,!0);e(g),e(n);var S=p(n,2),E=r(S,!0);e(S);var L=p(S,2);{var O=_=>{var x=ue(),B=r(x);{var re=G=>{var z=fe(),Z=r(z);e(z),m(ie=>k(Z,`âœ“ ${ie??""}`),[()=>t(s).vcpContextShared.join(", ")]),v(G,z)};j(B,G=>{var z;(z=t(s).vcpContextShared)!=null&&z.length&&G(re)})}var ne=p(B,2);{var ve=G=>{var z=ge(),Z=r(z);e(z),m(()=>k(Z,`ðŸ”’ ${t(s).vcpContextHidden.length??""} private field${t(s).vcpContextHidden.length>1?"s":""} influenced`)),v(G,z)};j(ne,G=>{var z;(z=t(s).vcpContextHidden)!=null&&z.length&&G(ve)})}e(x),v(_,x)};j(L,_=>{var x,B;q()&&((x=t(s).vcpContextShared)!=null&&x.length||(B=t(s).vcpContextHidden)!=null&&B.length)&&_(O)})}e(I),e(c),m(_=>{Y(c,`--sender-color: ${t(s).sender.color??""}`),Y(a,`color: ${t(s).sender.color??""}`),k(i,t(s).sender.display_name),k(y,_),k(E,t(s).content)},[()=>D(t(s).timestamp)]),v(h,c)});var R=p(P,2);{var U=h=>{var s=xe();v(h,s)};j(R,h=>{b().length===0&&h(U)})}e(F),e(N),v(Q,N),ee()}var ke=le('<line stroke="rgba(255,255,255,0.1)" stroke-width="1"></line>'),be=o('<div class="shared-center svelte-1l0kbf3"><span class="shared-icon svelte-1l0kbf3">ðŸ”—</span> <span class="shared-label svelte-1l0kbf3">Shared</span> <span class="shared-count svelte-1l0kbf3"> </span></div>'),je=o('<div class="agent-node svelte-1l0kbf3"><!></div>'),Ce=o('<div class="arena-circle svelte-1l0kbf3"><svg class="connection-lines svelte-1l0kbf3" viewBox="0 0 300 300"></svg> <!> <!></div>'),we=o('<span class="private-badge svelte-1l0kbf3"> </span>'),ye=o('<div class="agent-card svelte-1l0kbf3"><!> <div class="agent-info svelte-1l0kbf3"><span class="agent-role svelte-1l0kbf3"> </span> <!></div></div>'),Se=o('<div class="arena-row svelte-1l0kbf3"></div>'),ze=o('<div class="agent-card svelte-1l0kbf3"><!> <div class="agent-info svelte-1l0kbf3"><span class="agent-role svelte-1l0kbf3"> </span></div></div>'),Ae=o('<div class="arena-grid svelte-1l0kbf3"></div>'),Me=o('<span class="field-chip shared svelte-1l0kbf3"> </span>'),Ie=o('<span class="field-chip consensus svelte-1l0kbf3"> </span>'),Ne=o('<div class="consensus-fields svelte-1l0kbf3"><span class="consensus-label svelte-1l0kbf3">Requires consensus:</span> <!></div>'),Pe=o('<div class="shared-panel svelte-1l0kbf3"><h4 class="svelte-1l0kbf3"><span class="panel-icon svelte-1l0kbf3">ðŸ”—</span> Shared Context Space</h4> <div class="shared-fields svelte-1l0kbf3"></div> <!></div>'),Be=o("<div><!> <!></div>");function Je(Q,d){$(d,!0);let b=A(d,"agents",19,()=>[]),M=A(d,"sharedContext",3,null),V=A(d,"currentSpeaker",3,null),q=A(d,"layout",3,"circle"),K=A(d,"showSharedFields",3,!0);function D(s){return V()===s?"speaking":V()?"listening":"idle"}function N(s,c){const u=s/c*2*Math.PI-Math.PI/2,w=120;return{x:Math.cos(u)*w+150,y:Math.sin(u)*w+150}}var C=Be(),F=r(C);{var P=s=>{var c=Ce(),u=r(c);H(u,21,b,T,(a,i,l)=>{var f=ae(),g=te(f);H(g,17,()=>b().slice(l+1),T,(y,S,E)=>{const L=J(()=>N(l,b().length)),O=J(()=>N(l+E+1,b().length));var _=ke();m(()=>{W(_,"x1",t(L).x),W(_,"y1",t(L).y),W(_,"x2",t(O).x),W(_,"y2",t(O).y)}),v(y,_)}),v(a,f)}),e(u);var w=p(u,2);{var I=a=>{var i=be(),l=p(r(i),4),f=r(l);e(l),e(i),m(()=>k(f,`${M().shared_fields.length??""} fields`)),v(a,i)};j(w,a=>{K()&&M()&&a(I)})}var n=p(w,2);H(n,17,b,T,(a,i,l)=>{const f=J(()=>N(l,b().length));var g=je(),y=r(g);{let S=J(()=>D(t(i).agent_id));X(y,{get agent(){return t(i)},get state(){return t(S)},size:"lg"})}e(g),m(()=>Y(g,`left: ${t(f).x??""}px; top: ${t(f).y??""}px; transform: translate(-50%, -50%)`)),v(a,g)}),e(c),v(s,c)},R=s=>{var c=ae(),u=te(c);{var w=n=>{var a=Se();H(a,21,b,T,(i,l)=>{var f=ye(),g=r(f);{let _=J(()=>D(t(l).agent_id));X(g,{get agent(){return t(l)},get state(){return t(_)},size:"lg"})}var y=p(g,2),S=r(y),E=r(S,!0);e(S);var L=p(S,2);{var O=_=>{var x=we(),B=r(x);e(x),m(()=>k(B,`ðŸ”’ ${M().private_per_agent[t(l).agent_id].length??""} private`)),v(_,x)};j(L,_=>{var x;(x=M())!=null&&x.private_per_agent[t(l).agent_id]&&_(O)})}e(y),e(f),m(()=>k(E,t(l).role)),v(i,f)}),e(a),v(n,a)},I=n=>{var a=Ae();H(a,21,b,T,(i,l)=>{var f=ze(),g=r(f);{let L=J(()=>D(t(l).agent_id));X(g,{get agent(){return t(l)},get state(){return t(L)},size:"md"})}var y=p(g,2),S=r(y),E=r(S,!0);e(S),e(y),e(f),m(()=>k(E,t(l).role)),v(i,f)}),e(a),v(n,a)};j(u,n=>{q()==="row"?n(w):n(I,!1)},!0)}v(s,c)};j(F,s=>{q()==="circle"?s(P):s(R,!1)})}var U=p(F,2);{var h=s=>{var c=Pe(),u=p(r(c),2);H(u,21,()=>M().shared_fields,T,(n,a)=>{var i=Me(),l=r(i,!0);e(i),m(()=>k(l,t(a))),v(n,i)}),e(u);var w=p(u,2);{var I=n=>{var a=Ne(),i=p(r(a),2);H(i,17,()=>M().consensus_required,T,(l,f)=>{var g=Ie(),y=r(g,!0);e(g),m(()=>k(y,t(f))),v(l,g)}),e(a),v(n,a)};j(w,n=>{M().consensus_required.length>0&&n(I)})}e(c),v(s,c)};j(U,s=>{K()&&M()&&q()!=="circle"&&s(h)})}e(C),m(()=>se(C,1,`arena arena-${q()??""}`,"svelte-1l0kbf3")),v(Q,C),ee()}export{Ge as A,Je as M};
