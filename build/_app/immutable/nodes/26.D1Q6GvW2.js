import{f as m,a as p,c as Re}from"../chunks/D_PUEipK.js";import{ai as Se,as as pe,j as C,f as se,s as r,a as e,aj as Q,ak as Je,aq as te,e as Le,c as t,$ as Ye,r as s,al as z,n as ae}from"../chunks/B2Klhsja.js";import{s as u}from"../chunks/xFLrANCg.js";import{a as ze,i as g,s as Ne}from"../chunks/CnBhEndL.js";import{e as De,i as Ee}from"../chunks/CHSElxM4.js";import{h as Be}from"../chunks/D0s0Fm-t.js";import{s as He}from"../chunks/CDGBuXT4.js";import{s as Oe}from"../chunks/CfIhxZer.js";import{d as Qe}from"../chunks/D_f4NXPG.js";import{v as ue,a as _e,l as We}from"../chunks/DQab9x_V.js";import{g as Ie}from"../chunks/C2nPuBkJ.js";import{l as Me}from"../chunks/D-B1jxGZ.js";import{T as Ke}from"../chunks/DZB4XoE_.js";import"../chunks/BhfaJ5Rl.js";import"../chunks/C_E4Wk3M.js";import{A as Ue}from"../chunks/CXHVzrSz.js";var Xe=m(`<div class="consent-overlay svelte-10vrk7k"><div class="consent-dialog card svelte-10vrk7k"><h2 class="svelte-10vrk7k">Connect Your VCP Profile</h2> <p class="text-muted">JustinGuitar would like to personalize your experience using your VCP context.</p> <div class="consent-sections svelte-10vrk7k"><div class="consent-section svelte-10vrk7k"><h4 class="svelte-10vrk7k">Required for personalization:</h4> <ul class="consent-list svelte-10vrk7k"><li class="consent-item consent-required svelte-10vrk7k"><span>skill_level</span> <span class="consent-note svelte-10vrk7k">To recommend appropriate lessons</span></li> <li class="consent-item consent-required svelte-10vrk7k"><span>learning_style</span> <span class="consent-note svelte-10vrk7k">To match teaching approach</span></li></ul></div> <div class="consent-section svelte-10vrk7k"><h4 class="svelte-10vrk7k">Optional (improves experience):</h4> <ul class="consent-list svelte-10vrk7k"><li class="consent-item consent-optional svelte-10vrk7k"><span>noise_mode</span> <span class="consent-note svelte-10vrk7k">For quiet practice suggestions</span></li> <li class="consent-item consent-optional svelte-10vrk7k"><span>pace</span> <span class="consent-note svelte-10vrk7k">To adjust lesson speed</span></li> <li class="consent-item consent-optional svelte-10vrk7k"><span>session_length</span> <span class="consent-note svelte-10vrk7k">To fit your available time</span></li></ul></div></div> <div class="privacy-note"><span class="privacy-note-icon">üîí</span> <span>Your private context (work schedule, housing situation) is NEVER shared.
					Only the fields listed above are transmitted.</span></div> <div class="consent-actions svelte-10vrk7k"><button class="btn btn-secondary">Deny</button> <button class="btn btn-primary">Allow</button></div></div></div>`),Ze=m('<div class="vcp-badge">VCP Connected</div>'),es=m('<span class="badge badge-success">üîá Quiet Friendly</span>'),ss=m('<section class="recommendation-section svelte-10vrk7k"><h2>Recommended for You</h2> <div class="lesson-card featured svelte-10vrk7k"><div class="lesson-header svelte-10vrk7k"><h3> </h3> <span class="badge badge-primary">Personalized</span></div> <p class="lesson-description svelte-10vrk7k"> </p> <div class="lesson-meta svelte-10vrk7k"><span> </span> <span> </span> <!></div> <div class="lesson-reason svelte-10vrk7k"><span class="reason-icon">üí°</span> <span> </span></div> <button class="btn btn-primary">Start Lesson ‚Üí</button></div></section>'),ts=m(`<div class="quiet-tip card svelte-10vrk7k"><span class="tip-icon svelte-10vrk7k">üîá</span> <div><strong>Quiet Practice Mode Active</strong> <p class="text-sm text-muted">Based on your preferences, we're showing lessons suitable for quiet practice.
							No amp required!</p></div></div>`),as=m('<span class="badge badge-success text-xs">üîá</span>'),rs=m('<div class="lesson-card svelte-10vrk7k"><div class="lesson-header svelte-10vrk7k"><h3> </h3> <!></div> <p class="text-sm text-muted"> </p> <div class="lesson-meta text-xs svelte-10vrk7k"><span> </span> <span> </span></div></div>'),ns=m('<div class="welcome-banner svelte-10vrk7k"><h1 class="svelte-10vrk7k"> </h1> <p class="text-muted"> </p></div> <!> <!> <section class="lessons-section svelte-10vrk7k"><h2>Your Lessons</h2> <div class="lessons-list svelte-10vrk7k"></div></section> <section class="shared-info card svelte-10vrk7k"><h3>What JustinGuitar Received</h3> <div class="field-list" style="margin-top: 0.5rem;"><span class="field-tag field-tag-shared">skill_level</span> <span class="field-tag field-tag-shared">learning_style</span> <span class="field-tag field-tag-shared">noise_mode</span> <span class="field-tag field-tag-shared">pace</span> <span class="field-tag field-tag-shared">display_name</span></div> <p class="text-sm text-muted" style="margin-top: 1rem;"><strong>Not shared:</strong> work_type, schedule, housing, neighbor_situation</p></section> <section class="token-section svelte-10vrk7k"><!></section>',1),is=m('<div class="no-vcp svelte-10vrk7k"><h2>VCP Not Connected</h2> <p class="text-muted">Connect your VCP profile for a personalized experience.</p> <button class="btn btn-primary">Connect VCP</button></div>'),os=m('<aside class="audit-sidebar svelte-10vrk7k"><!></aside>'),ls=m('<!> <div><div class="main-content svelte-10vrk7k"><div class="platform-frame platform-frame-justinguitar"><div class="platform-header platform-header-justinguitar"><div class="platform-brand svelte-10vrk7k"><span class="platform-logo svelte-10vrk7k">üé∏</span> <span class="platform-name svelte-10vrk7k">JustinGuitar</span></div> <div class="header-actions svelte-10vrk7k"><!> <button class="audit-toggle-btn svelte-10vrk7k"><i class="fa-solid fa-clipboard-list" aria-hidden="true"></i> </button></div></div> <div class="platform-content"><!></div></div> <div class="container-narrow" style="margin-top: 2rem;"><div class="nav-links svelte-10vrk7k"><a href="/personal" class="btn btn-ghost">‚Üê Back to Profile</a> <a href="/personal/platforms/yousician" class="btn btn-primary">Try Yousician ‚Üí</a></div></div></div> <!></div>',1);function $s(ke,me){Se(me,!0);const re=()=>ze(ue,"$vcpContext",fe),[fe,he]=Ne();let w=te(!0);pe(()=>{re()||ue.set(Ie)});const v=z(re);let $=te(!1),F=te(!1);pe(()=>{_e.hasConsent("justinguitar")?C(F,!0):C($,!0)});function ge(){_e.grantConsent("justinguitar",["skill_level","learning_style"],["noise_mode","pace","session_length"]),We("justinguitar",["skill_level","learning_style","noise_mode","pace","display_name"],["work_type","schedule","housing","neighbor_situation"],2),C(F,!0),C($,!1)}function be(){C($,!1)}const W=z(()=>()=>{var n,o;const a=Me.justinguitar_lessons;return(o=(n=e(v))==null?void 0:n.constraints)!=null&&o.noise_restricted?a.filter(l=>l.quiet_friendly):a}),P=z(()=>()=>{var n,o;return((o=(n=e(v))==null?void 0:n.current_skills)==null?void 0:o.current_focus)==="chord_transitions"?e(W)().find(l=>l.skills.includes("chord_transitions")):e(W)()[0]}),ye=z(()=>()=>{var l,_,k,q,G,D,R,E,j,S;const a=[],n=["skill_level","learning_style","noise_mode","pace","display_name"];for(const f of n){let J=(_=(l=e(v))==null?void 0:l.public_profile)==null?void 0:_[f];f==="display_name"&&(J=(q=(k=e(v))==null?void 0:k.public_profile)==null?void 0:q.display_name),f==="noise_mode"&&(J=(D=(G=e(v))==null?void 0:G.constraints)!=null&&D.noise_restricted?"quiet":"normal"),a.push({field:f.replace(/_/g," "),category:"shared",value:String(J??"‚Äî").replace(/_/g," "),stakeholder:"JustinGuitar"})}(E=(R=e(v))==null?void 0:R.constraints)!=null&&E.noise_restricted&&a.push({field:"noise restricted",category:"influenced",value:"true",reason:"Filtering to quiet-friendly lessons"}),(S=(j=e(v))==null?void 0:j.constraints)!=null&&S.schedule_irregular&&a.push({field:"schedule irregular",category:"influenced",value:"true",reason:"Preferring self-paced content"});const o=["work_type","schedule","housing","neighbor_situation"];for(const f of o)a.push({field:f.replace(/_/g," "),category:"withheld",reason:"Private - not transmitted to platforms"});return a});var ne=ls();Be("10vrk7k",a=>{Le(()=>{Ye.title="JustinGuitar - VCP Demo"})});var ie=se(ne);{var xe=a=>{var n=Xe(),o=t(n),l=r(t(o),8),_=t(l);_.__click=be;var k=r(_,2);k.__click=ge,s(l),s(o),s(n),p(a,n)};g(ie,a=>{e($)&&a(xe)})}var I=r(ie,2);let oe;var M=t(I),le=t(M),K=t(le),ve=r(t(K),2),ce=t(ve);{var Ce=a=>{var n=Ze();p(a,n)};g(ce,a=>{e(F)&&a(Ce)})}var N=r(ce,2);N.__click=()=>C(w,!e(w));var we=r(t(N));s(N),s(ve),s(K);var de=r(K,2),$e=t(de);{var Pe=a=>{var n=ns(),o=se(n),l=t(o),_=t(l);s(l);var k=r(l,2),q=t(k);s(k),s(o);var G=r(o,2);{var D=d=>{var c=ss(),T=r(t(c),2),b=t(T),V=t(b),U=t(V,!0);s(V),ae(2),s(b);var L=r(b,2),X=t(L,!0);s(L);var y=r(L,2),Y=t(y),B=t(Y);s(Y);var x=r(Y,2),Z=t(x);s(x);var H=r(x,2);{var ee=i=>{var h=es();p(i,h)};g(H,i=>{var h;(h=e(P)())!=null&&h.quiet_friendly&&i(ee)})}s(y);var A=r(y,2),O=r(t(A),2),Ve=t(O);s(O),s(A),ae(2),s(T),s(c),Q((i,h,Ae,Fe,Ge)=>{u(U,i),u(X,h),u(B,`‚è±Ô∏è ${Ae??""} min`),u(Z,`üìö ${Fe??""}`),u(Ve,`Recommended because your current focus is "${Ge??""}"`)},[()=>{var i;return(i=e(P)())==null?void 0:i.title},()=>{var i;return(i=e(P)())==null?void 0:i.description},()=>{var i;return(i=e(P)())==null?void 0:i.duration_minutes},()=>{var i;return(i=e(P)())==null?void 0:i.module},()=>{var i,h;return(h=(i=e(v).current_skills)==null?void 0:i.current_focus)==null?void 0:h.replace(/_/g," ")}]),p(d,c)};g(G,d=>{e(P)()&&d(D)})}var R=r(G,2);{var E=d=>{var c=ts();p(d,c)};g(R,d=>{var c;(c=e(v).constraints)!=null&&c.noise_restricted&&d(E)})}var j=r(R,2),S=r(t(j),2);De(S,21,()=>e(W)(),Ee,(d,c)=>{var T=rs(),b=t(T),V=t(b),U=t(V,!0);s(V);var L=r(V,2);{var X=A=>{var O=as();p(A,O)};g(L,A=>{e(c).quiet_friendly&&A(X)})}s(b);var y=r(b,2),Y=t(y,!0);s(y);var B=r(y,2),x=t(B),Z=t(x);s(x);var H=r(x,2),ee=t(H);s(H),s(B),s(T),Q(()=>{u(U,e(c).title),u(Y,e(c).description),u(Z,`‚è±Ô∏è ${e(c).duration_minutes??""} min`),u(ee,`üìö ${e(c).module??""}`)}),p(d,T)}),s(S),s(j);var f=r(j,4),J=t(f);Ke(J,{get context(){return e(v)},showLegend:!0,showSummary:!0}),s(f),Q(()=>{var d;u(_,`Welcome back, ${e(v).public_profile.display_name??""}!`),u(q,`Level: ${e(v).public_profile.experience??""} ‚Ä¢ ${((d=e(v).current_skills)==null?void 0:d.weeks_learning)??""} weeks learning`)}),p(a,n)},qe=a=>{var n=Re(),o=se(n);{var l=_=>{var k=is(),q=r(t(k),4);q.__click=()=>C($,!0),s(k),p(_,k)};g(o,_=>{e($)||_(l)},!0)}p(a,n)};g($e,a=>{e(F)&&e(v)?a(Pe):a(qe,!1)})}s(de),s(le),ae(2),s(M);var je=r(M,2);{var Te=a=>{var n=os(),o=t(n);{let l=z(()=>e(ye)());Ue(o,{get entries(){return e(l)},title:"Real-Time Audit",compact:!0,showTimestamps:!1})}s(n),p(a,n)};g(je,a=>{e(w)&&e(F)&&a(Te)})}s(I),Q(()=>{oe=Oe(I,1,"page-layout svelte-10vrk7k",null,oe,{"audit-open":e(w)}),He(N,"aria-label",e(w)?"Hide audit panel":"Show audit panel"),u(we,` ${e(w)?"Hide":"Show"} Audit`)}),p(ke,ne),Je(),he()}Qe(["click"]);export{$s as component};
