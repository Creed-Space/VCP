import{f as u,a as d,c as he}from"../chunks/D_PUEipK.js";import{ai as Le,as as me,j as _,f as H,s as t,a as s,aj as G,ak as Xe,aq as O,e as Ze,c as e,$ as ea,r as a,al as M,n as $}from"../chunks/B2Klhsja.js";import{s as p}from"../chunks/xFLrANCg.js";import{a as aa,i as m,s as sa}from"../chunks/CnBhEndL.js";import{e as ta,i as ia}from"../chunks/CHSElxM4.js";import{h as ra}from"../chunks/D0s0Fm-t.js";import{s as na}from"../chunks/CDGBuXT4.js";import{s as be}from"../chunks/CfIhxZer.js";import{d as la}from"../chunks/D_f4NXPG.js";import{v as ye,a as ke,l as oa}from"../chunks/DQab9x_V.js";import{g as ca}from"../chunks/C2nPuBkJ.js";import{A as da}from"../chunks/CXHVzrSz.js";var va=u(`<div class="qr-scan-overlay svelte-fup7g0"><div class="qr-scan-dialog card svelte-fup7g0"><div class="qr-icon svelte-fup7g0"><i class="fa-solid fa-qrcode" aria-hidden="true"></i></div> <h2>Barcelona Guitar Shop</h2> <p class="text-muted">Scan your VCP QR code at the kiosk</p> <div class="qr-preview svelte-fup7g0"><div class="qr-placeholder svelte-fup7g0"><i class="fa-solid fa-mobile-screen svelte-fup7g0" aria-hidden="true"></i> <span>Your VCP Profile</span></div></div> <button class="btn btn-primary btn-lg"><i class="fa-solid fa-camera" aria-hidden="true"></i> Scan QR Code</button> <p class="text-sm text-muted" style="margin-top: 1rem;">Simulates scanning your phone's VCP QR code at a shop kiosk</p></div></div>`),pa=u(`<div class="consent-overlay svelte-fup7g0"><div class="consent-dialog card svelte-fup7g0"><div class="shop-logo svelte-fup7g0"><i class="fa-solid fa-store" aria-hidden="true"></i></div> <h2>Barcelona Guitar Shop</h2> <p class="text-muted">Would like to personalize your experience using VCP</p> <div class="consent-sections svelte-fup7g0"><div class="consent-section svelte-fup7g0"><h4 class="svelte-fup7g0">Required for recommendations:</h4> <ul class="consent-list svelte-fup7g0"><li class="consent-item consent-required svelte-fup7g0"><span>skill_level</span> <span class="consent-note svelte-fup7g0">To suggest appropriate gear</span></li> <li class="consent-item consent-required svelte-fup7g0"><span>budget_range</span> <span class="consent-note svelte-fup7g0">To filter by price tier</span></li></ul></div> <div class="consent-section svelte-fup7g0"><h4 class="svelte-fup7g0">Optional (improves recommendations):</h4> <ul class="consent-list svelte-fup7g0"><li class="consent-item consent-optional svelte-fup7g0"><span>noise_concern</span> <span class="consent-note svelte-fup7g0">For quiet practice gear</span></li> <li class="consent-item consent-optional svelte-fup7g0"><span>availability</span> <span class="consent-note svelte-fup7g0">For workshop timing</span></li></ul></div></div> <div class="privacy-note"><span class="privacy-note-icon">üîí</span> <span>Your private details (work schedule, housing, finances) are NEVER shared.
					Shop sees: "budget: low" not "tight budget on factory wages".</span></div> <div class="consent-actions svelte-fup7g0"><button class="btn btn-secondary">Deny</button> <button class="btn btn-primary">Allow</button></div></div></div>`),ua=u('<div class="vcp-badge">VCP Connected</div>'),fa=u('<div class="profile-item profile-item-highlight svelte-fup7g0"><span class="item-label svelte-fup7g0">Noise Mode</span> <span class="item-value svelte-fup7g0">Quiet Practice</span></div>'),ga=u('<span class="badge badge-success">Essential</span>'),_a=u('<span class="badge badge-primary">Upgrade Option</span>'),ha=u('<span class="badge badge-ghost">Accessory</span>'),ma=u('<p class="rec-financing svelte-fup7g0"><i class="fa-solid fa-calendar-check" aria-hidden="true"></i> </p>'),ba=u('<div><div class="rec-header svelte-fup7g0"><div><h3 class="svelte-fup7g0"> </h3> <!></div> <span class="rec-price svelte-fup7g0"> </span></div> <p class="rec-reason svelte-fup7g0"> </p> <!> <div class="rec-match svelte-fup7g0"><span class="match-label svelte-fup7g0">VCP Match:</span> <code class="svelte-fup7g0"> </code></div></div>'),ya=u('<section class="workshop-card card svelte-fup7g0"><div class="workshop-header svelte-fup7g0"><span class="workshop-icon svelte-fup7g0"><i class="fa-solid fa-chalkboard-user" aria-hidden="true"></i></span> <div><h3> </h3> <span class="badge badge-warning">Free Workshop</span></div></div> <div class="workshop-details svelte-fup7g0"><div class="workshop-detail svelte-fup7g0"><i class="fa-solid fa-clock" aria-hidden="true"></i> <span> </span></div> <div class="workshop-detail svelte-fup7g0"><i class="fa-solid fa-location-dot" aria-hidden="true"></i> <span> </span></div></div> <p class="workshop-reason svelte-fup7g0"><i class="fa-solid fa-lightbulb" aria-hidden="true"></i> </p> <button class="btn btn-primary"><i class="fa-solid fa-calendar-plus" aria-hidden="true"></i> Reserve Spot</button></section>'),ka=u(`<div class="kiosk-welcome svelte-fup7g0"><h1 class="svelte-fup7g0"> </h1> <p class="text-muted">VCP Profile Detected - Personalized Recommendations Ready</p></div> <section class="profile-summary card svelte-fup7g0"><h3><i class="fa-solid fa-user-circle" aria-hidden="true"></i> Your Profile</h3> <div class="profile-grid svelte-fup7g0"><div class="profile-item svelte-fup7g0"><span class="item-label svelte-fup7g0">Experience</span> <span class="item-value svelte-fup7g0"> </span></div> <div class="profile-item svelte-fup7g0"><span class="item-label svelte-fup7g0">Budget Tier</span> <span class="item-value svelte-fup7g0"> </span></div> <div class="profile-item svelte-fup7g0"><span class="item-label svelte-fup7g0">Goal</span> <span class="item-value svelte-fup7g0"> </span></div> <!></div></section> <section class="recommendations-section svelte-fup7g0"><h2 class="svelte-fup7g0"><i class="fa-solid fa-magic-wand-sparkles" aria-hidden="true"></i> Personalized
							For You</h2> <!></section> <!> <section class="shared-info card svelte-fup7g0"><h3>What the Shop Received</h3> <div class="field-list" style="margin-top: 0.5rem;"><span class="field-tag field-tag-shared">skill_level: beginner</span> <span class="field-tag field-tag-shared">budget_tier: low</span> <span class="field-tag field-tag-shared">noise_concern: true</span> <span class="field-tag field-tag-shared">availability: sat_afternoon</span></div> <div class="privacy-note" style="margin-top: 1rem;"><span class="privacy-note-icon">üîí</span> <span><strong>Not shared:</strong> exact_budget (‚Ç¨20/month), work_schedule (factory shifts),
								housing_details (apartment), neighbor_situation (complaints)</span></div></section>`,1),xa=u('<div class="no-vcp svelte-fup7g0"><h2>VCP Not Connected</h2> <p class="text-muted">Scan your VCP QR code for personalized recommendations.</p> <button class="btn btn-primary"><i class="fa-solid fa-qrcode" aria-hidden="true"></i> Scan QR Code</button></div>'),wa=u('<aside class="audit-sidebar svelte-fup7g0"><!></aside>'),Ca=u('<!> <!> <div><div class="main-content svelte-fup7g0"><div class="platform-frame platform-frame-shop svelte-fup7g0"><div class="platform-header platform-header-shop svelte-fup7g0"><div class="platform-brand svelte-fup7g0"><span class="platform-logo svelte-fup7g0"><i class="fa-solid fa-store" aria-hidden="true"></i></span> <span class="platform-name svelte-fup7g0">Barcelona Guitar Shop</span></div> <div class="header-actions svelte-fup7g0"><!> <button class="audit-toggle-btn svelte-fup7g0"><i class="fa-solid fa-clipboard-list" aria-hidden="true"></i> </button></div></div> <div class="platform-content"><!></div></div> <div class="container-narrow" style="margin-top: 2rem;"><div class="nav-links svelte-fup7g0"><a href="/personal/platforms/yousician" class="btn btn-ghost">‚Üê Yousician</a> <a href="/personal/community" class="btn btn-primary">Community Challenge ‚Üí</a></div></div></div> <!></div>',1);function Ga(xe,we){Le(we,!0);const re=()=>aa(ye,"$vcpContext",Ce),[Ce,Se]=sa();let S=O(!0);me(()=>{re()||ye.set(ca)});const g=M(re);let P=O(!1),F=O(!1),w=O(!0);me(()=>{ke.hasConsent("musicshop")?(_(F,!0),_(w,!1)):(_(P,!1),_(w,!0))});function Pe(){_(w,!1),_(P,!0)}function Re(){ke.grantConsent("musicshop",["skill_level","budget_range"],["noise_concern","learning_goals"]),oa("musicshop",["skill_level","budget_range","noise_concern","display_name","availability_abstract"],["work_schedule","housing_details","neighbor_situation","financial_details"],2),_(F,!0),_(P,!1)}function qe(){_(P,!1),_(w,!0)}const Ve=M(()=>()=>{var r,n,o;if(!s(g))return[];const i=[];return(r=s(g).constraints)!=null&&r.noise_restricted&&i.push({id:"soundhole-cover",name:"Soundhole Cover",price:12,reason:"Reduces acoustic volume 60% - perfect for apartment practice",category:"essential",vcp_match:"noise_restricted: true"}),(n=s(g).constraints)!=null&&n.budget_limited&&i.push({id:"used-electric",name:"Used Electric + Headphones Bundle",price:180,reason:"Silent practice option, 6-month layaway available",category:"upgrade",vcp_match:"budget_limited: true + noise_restricted: true",financing:"In-store layaway: ‚Ç¨30/month"}),((o=s(g).public_profile)==null?void 0:o.experience)==="beginner"&&i.push({id:"finger-trainers",name:"Finger Strength Trainers",price:8,reason:"Build calluses faster - great for beginners",category:"accessory",vcp_match:"experience: beginner"}),i}),Q=M(()=>()=>{var r,n;return(((n=(r=s(g))==null?void 0:r.availability)==null?void 0:n.best_times)||[]).includes("saturday_afternoon")?{title:"Quiet Practice Techniques",time:"Saturday 2pm",location:"Back room",price:"Free",reason:"Matches your Saturday availability + noise concerns"}:null}),$e=M(()=>()=>{var o,h;const i=[],r=[{field:"skill_level",value:"beginner"},{field:"budget_range",value:"low"},{field:"noise_concern",value:"true"},{field:"display_name",value:(h=(o=s(g))==null?void 0:o.public_profile)==null?void 0:h.display_name}];for(const{field:f,value:y}of r)i.push({field:f.replace(/_/g," "),category:"shared",value:String(y??""),stakeholder:"Music Shop Kiosk"});i.push({field:"availability abstract",category:"influenced",value:"Saturday afternoon",reason:"Workshop timing matched to availability"});const n=[{field:"work schedule",reason:"Factory shift details - private"},{field:"exact budget",reason:"Only tier shared, not amount"},{field:"housing details",reason:"Apartment specifics - private"},{field:"neighbor situation",reason:"Complaint history - private"}];for(const{field:f,reason:y}of n)i.push({field:f,category:"withheld",reason:y});return i});var ne=Ca();ra("fup7g0",i=>{Ze(()=>{ea.title="Music Shop - VCP Demo"})});var le=H(ne);{var Fe=i=>{var r=va(),n=e(r),o=t(e(n),8);o.__click=Pe,$(2),a(n),a(r),d(i,r)};m(le,i=>{s(w)&&i(Fe)})}var oe=t(le,2);{var Qe=i=>{var r=pa(),n=e(r),o=t(e(n),10),h=e(o);h.__click=qe;var f=t(h,2);f.__click=Re,a(o),a(n),a(r),d(i,r)};m(oe,i=>{s(P)&&i(Qe)})}var j=t(oe,2);let ce;var K=e(j),de=e(K),U=e(de),ve=t(e(U),2),pe=e(ve);{var Ae=i=>{var r=ua();d(i,r)};m(pe,i=>{s(F)&&i(Ae)})}var W=t(pe,2);W.__click=()=>_(S,!s(S));var Be=t(e(W));a(W),a(ve),a(U);var ue=t(U,2),Ee=e(ue);{var Te=i=>{var r=ka(),n=H(r),o=e(n),h=e(o);a(o),$(2),a(n);var f=t(n,2),y=t(e(f),2),I=e(y),fe=t(e(I),2),Ye=e(fe,!0);a(fe),a(I);var J=t(I,2),ge=t(e(J),2),ze=e(ge,!0);a(ge),a(J);var L=t(J,2),_e=t(e(L),2),Ne=e(_e,!0);a(_e),a(L);var De=t(L,2);{var He=v=>{var l=fa();d(v,l)};m(De,v=>{var l;(l=s(g).constraints)!=null&&l.noise_restricted&&v(He)})}a(y),a(f);var X=t(f,2),Oe=t(e(X),2);ta(Oe,17,()=>s(Ve)(),ia,(v,l)=>{var k=ba();let A;var R=e(k),B=e(R),C=e(B),E=e(C,!0);a(C);var Y=t(C,2);{var Z=b=>{var x=ga();d(b,x)},z=b=>{var x=he(),te=H(x);{var Ie=V=>{var ie=_a();d(V,ie)},Je=V=>{var ie=ha();d(V,ie)};m(te,V=>{s(l).category==="upgrade"?V(Ie):V(Je,!1)},!0)}d(b,x)};m(Y,b=>{s(l).category==="essential"?b(Z):b(z,!1)})}a(B);var T=t(B,2),ee=e(T);a(T),a(R);var q=t(R,2),ae=e(q,!0);a(q);var c=t(q,2);{var se=b=>{var x=ma(),te=t(e(x));a(x),G(()=>p(te,` ${s(l).financing??""}`)),d(b,x)};m(c,b=>{s(l).financing&&b(se)})}var N=t(c,2),D=t(e(N),2),Ue=e(D,!0);a(D),a(N),a(k),G(()=>{A=be(k,1,"recommendation-card card svelte-fup7g0",null,A,{essential:s(l).category==="essential"}),p(E,s(l).name),p(ee,`‚Ç¨${s(l).price??""}`),p(ae,s(l).reason),p(Ue,s(l).vcp_match)}),d(v,k)}),a(X);var je=t(X,2);{var Ke=v=>{var l=ya(),k=e(l),A=t(e(k),2),R=e(A),B=e(R,!0);a(R),$(2),a(A),a(k);var C=t(k,2),E=e(C),Y=t(e(E),2),Z=e(Y,!0);a(Y),a(E);var z=t(E,2),T=t(e(z),2),ee=e(T,!0);a(T),a(z),a(C);var q=t(C,2),ae=t(e(q));a(q),$(2),a(l),G((c,se,N,D)=>{p(B,c),p(Z,se),p(ee,N),p(ae,` ${D??""}`)},[()=>{var c;return(c=s(Q)())==null?void 0:c.title},()=>{var c;return(c=s(Q)())==null?void 0:c.time},()=>{var c;return(c=s(Q)())==null?void 0:c.location},()=>{var c;return(c=s(Q)())==null?void 0:c.reason}]),d(v,l)};m(je,v=>{s(Q)()&&v(Ke)})}$(2),G(v=>{var l;p(h,`Welcome, ${s(g).public_profile.display_name??""}!`),p(Ye,s(g).public_profile.experience),p(ze,(l=s(g).portable_preferences)==null?void 0:l.budget_range),p(Ne,v)},[()=>{var v;return(v=s(g).public_profile.motivation)==null?void 0:v.replace(/_/g," ")}]),d(i,r)},Ge=i=>{var r=he(),n=H(r);{var o=h=>{var f=xa(),y=t(e(f),4);y.__click=()=>_(w,!0),a(f),d(h,f)};m(n,h=>{!s(P)&&!s(w)&&h(o)},!0)}d(i,r)};m(Ee,i=>{s(F)&&s(g)?i(Te):i(Ge,!1)})}a(ue),a(de),$(2),a(K);var Me=t(K,2);{var We=i=>{var r=wa(),n=e(r);{let o=M(()=>s($e)());da(n,{get entries(){return s(o)},title:"Kiosk Audit",compact:!0,showTimestamps:!1})}a(r),d(i,r)};m(Me,i=>{s(S)&&s(F)&&i(We)})}a(j),G(()=>{ce=be(j,1,"page-layout svelte-fup7g0",null,ce,{"audit-open":s(S)}),na(W,"aria-label",s(S)?"Hide audit panel":"Show audit panel"),p(Be,` ${s(S)?"Hide":"Show"} Audit`)}),d(xe,ne),Xe(),Se()}la(["click"]);export{Ga as component};
